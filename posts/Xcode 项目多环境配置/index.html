<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Coder ç°æ¡‘"/><link rel="canonical" href="https://coder.linsyorozuya.com/posts/Xcode%20%E9%A1%B9%E7%9B%AE%E5%A4%9A%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"/><meta name="twitter:url" content="https://coder.linsyorozuya.com/posts/Xcode%20%E9%A1%B9%E7%9B%AE%E5%A4%9A%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"/><meta name="og:url" content="https://coder.linsyorozuya.com/posts/Xcode%20%E9%A1%B9%E7%9B%AE%E5%A4%9A%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"/><title>Xcode é¡¹ç›®å¤šç¯å¢ƒé…ç½® | Coder ç°æ¡‘</title><meta name="twitter:title" content="Xcode é¡¹ç›®å¤šç¯å¢ƒé…ç½® | Coder ç°æ¡‘"/><meta name="og:title" content="Xcode é¡¹ç›®å¤šç¯å¢ƒé…ç½® | Coder ç°æ¡‘"/><meta name="description" content="Stay Foolish, Always Foolish"/><meta name="twitter:description" content="Stay Foolish, Always Foolish"/><meta name="og:description" content="Stay Foolish, Always Foolish"/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Coder ç°æ¡‘"/></head><body class="item-page"><header><div class="wrapper"><a href="/" class="site-name">Coder ç°æ¡‘</a><p class="description">Stay Foolish, Always Foolish</p><nav><ul><li><a href="/">æœ€æ–°</a></li><li class="selected"><a href="/posts">Code</a></li><li><a href="/products">äº§å“</a></li><li><a href="/about">å…³äº</a></li></ul></nav></div></header><div class="wrapper"><article><h1>Xcode é¡¹ç›®å¤šç¯å¢ƒé…ç½®</h1><div class="metadata"><ul class="tag-list"><li class="tag variant-6"><a href="/tags/xcode">Xcode</a></li><li class="tag variant-0"><a href="/tags/ios">iOS</a></li></ul><span class="date">5æœˆ 31, 2021</span></div><div class="content"><h3>æ·»åŠ  Configuration</h3><p>1âƒ£ï¸å‰å¾€ Project - info - Configurations</p><p>2âƒ£ï¸ç‚¹å‡» + Duplicate ç›¸åº”çš„ Configuration</p><img src="https://cdn.jsdelivr.net/gh/linsyorozuya/Pics@master/uPic/skdasddd.png" alt="Configurations"/><h3>æ·»åŠ  Scheme</h3><p>1âƒ£ï¸å‰å¾€ Manage Scheme</p><p>2âƒ£ï¸ç‚¹å‡»è®¾ç½® Duplicate ç›¸åº”çš„ Scheme</p><img src="https://cdn.jsdelivr.net/gh/linsyorozuya/Pics@master/uPic/J9GJ4x.png" alt="Duplicate Scheme"/><p>3âƒ£ï¸ä¿®æ”¹ç›¸åº”çš„ Build Configuration ä¸ºä¸Šä¸€æ­¥åˆ›å»ºçš„ Configuration</p><img src="https://cdn.jsdelivr.net/gh/linsyorozuya/Pics@master/uPic/aoz1jy.png" alt="Build Configuration ä¿®æ”¹"/><h3>é…ç½® Bundle Id ç”Ÿæˆä¸åŒçš„åŒ…</h3><p>1âƒ£ï¸å‰å¾€ TARGETS - Build Settings</p><p>2âƒ£ï¸ä¿®æ”¹ Product Bundle Identifier ä¸­ Configuration ç›¸åº”çš„ Bundle Id</p><img src="https://cdn.jsdelivr.net/gh/linsyorozuya/Pics@master/uPic/GqlVzG.png" alt="Bundle Id"/><h3>é…ç½®åº”ç”¨åç§°</h3><p>1âƒ£ï¸å‰å¾€ TARGETS - Build Settings</p><p>2âƒ£ï¸é¡¶éƒ¨èœå• Editor - Add Build Setting æ·»åŠ  User-Defined Setting</p><img src="https://cdn.jsdelivr.net/gh/linsyorozuya/Pics@master/uPic/uQYWyX.png" alt="User-Defined Setting"/><p>3âƒ£ï¸è®¾ç½®ç›¸åº” Configuration çš„åº”ç”¨å</p><img src="https://cdn.jsdelivr.net/gh/linsyorozuya/Pics@master/uPic/35Vl2R.png" alt="åº”ç”¨åè®¾ç½®"/><p>4âƒ£ï¸åœ¨ info.plist ä¸­é…ç½® Bundle display name ä¸ºä¸Šä¸€æ­¥è®¾ç½®çš„å‚æ•°</p><img src="https://cdn.jsdelivr.net/gh/linsyorozuya/Pics@master/uPic/2Xc3RY.png" alt="Bundle display name"/><h3>åœ¨ä»£ç ä¸­æ ¹æ® Configuration é…ç½®ç›¸å…³æ•°æ®</h3><p>1âƒ£ï¸åœ¨ info.plist ä¸­æ·»åŠ ä¸€ä¸ªå€¼ï¼š keyï¼šConfiguration Valueï¼š$(CONFIGURATION)</p><img src="https://cdn.jsdelivr.net/gh/linsyorozuya/Pics@master/uPic/IlrsxS.png" alt="$Configuration"/><p>2âƒ£ï¸å®ç°ä¸€ä¸ªæ–¹æ³•è·å–</p><pre><code><span class="keyword">class</span> BuildConfiguration {
    <span class="keyword">static let</span> shared = <span class="type">BuildConfiguration</span>()
    <span class="keyword">var</span> environment: <span class="type">Environment</span>
    
    <span class="keyword">var</span> baseURL: <span class="type">String</span> { <span class="comment">// 1</span>
        <span class="keyword">switch</span> environment {
        <span class="keyword">case</span> .<span class="dotAccess">debugStaging</span>, .<span class="dotAccess">releaseStaging</span>:
            <span class="keyword">return</span> <span class="string">"https://staging.example.com/api"</span>
        <span class="keyword">case</span> .<span class="dotAccess">debugDevelopment</span>, .<span class="dotAccess">releaseDevelopment</span>:
            <span class="keyword">return</span> <span class="string">"https://dev.example.com/api"</span>
        <span class="keyword">case</span> .<span class="dotAccess">debugProduction</span>, .<span class="dotAccess">releaseProduction</span>:
            <span class="keyword">return</span> <span class="string">"https://example.com/api"</span>
        }
    }
    
    <span class="keyword">init</span>() {
        <span class="keyword">let</span> currentConfiguration = <span class="type">Bundle</span>.<span class="property">main</span>.<span class="call">object</span>(forInfoDictionaryKey: <span class="string">"Configuration"</span>) <span class="keyword">as</span>! <span class="type">String</span>
        
        environment = <span class="type">Environment</span>(rawValue: currentConfiguration)!
    }
}

<span class="type">BuildConfiguration</span>.<span class="property">shared</span>.<span class="property">baseURL</span>
</code></pre><h2>xcconfig æ¦‚å¿µåŠå…¶ä½œç”¨</h2><p>ä¸€èˆ¬ä¿®æ”¹ Build Setting çš„åŠæ³•æ˜¯åœ¨ Xcode çš„ Build Settings ç•Œé¢ä¸Šè¿›è¡Œã€‚æ‰‹å·¥ä¿®æ”¹å®¹æ˜“å‡ºé”™ï¼Œä¸”ä¸ä¾¿äºæŸ¥æ‰¾ã€‚ Xcode æä¾›äº† Build configuration fileï¼ˆæ„å»ºé…ç½®æ–‡ä»¶ï¼‰æ¥ä¸º Project æˆ– Target å®šä¹‰ä¸€ç»„ Build Settingã€‚ä¹Ÿå°±æ˜¯ xcconfig çš„ä½œç”¨ã€‚ä½¿ç”¨ xcconfig å› ä¸ºæ˜¯çº¯æ–‡æœ¬æ‰€æœ‰éå¸¸å®¹æ˜“æŸ¥çœ‹ä¿®æ”¹äº†å“ªäº›é…ç½®ä¸å®¹æ˜“å‡ºé”™ã€‚</p><h3>xcconfig ä¼˜å…ˆçº§</h3><p>ä½¿ç”¨ xcconfig æ—¶ï¼ŒXcode æ„å»ºç³»ç»Ÿä¼šæŒ‰ç…§ä¸‹é¢çš„ä¼˜å…ˆçº§æ¥è®¡ç®—å‡º Build Setting çš„æœ€åç”Ÿæ•ˆå€¼ï¼š</p><ul><li>Platform Defaults (å¹³å°é»˜è®¤å€¼)</li></ul><ul><li>Xcode Project xcconfig Fileï¼ˆProject çº§åˆ«çš„ xcconfig æ–‡ä»¶ï¼‰</li></ul><ul><li>Xcode Project File Build Settingsï¼ˆProject çº§åˆ«çš„æ‰‹å·¥é…ç½®çš„ Build Settingï¼‰</li></ul><ul><li>Target xcconfig File ï¼ˆTarget çº§åˆ«çš„ xcconfig æ–‡ä»¶ï¼‰</li></ul><ul><li>Target Build Settingsï¼ˆTarget çº§åˆ«çš„æ‰‹å·¥é…ç½®çš„ Build Settingï¼‰</li></ul><p>Xcode æ„å»ºç³»ç»Ÿä¼šæŒ‰ç…§ä¸Šè¿°åˆ—è¡¨ä»ä¸Šè€Œä¸‹è¯»å– Build Settingï¼Œå¦‚æœå‘ç°åŒæ ·çš„ Setting ï¼Œå°±ä¼šæŠŠä¸‹é¢çš„ Setting è¦†ç›–æ‰ä¸Šé¢çš„ï¼Œè¶Šå¾€ä¸‹ä¼˜å…ˆçº§åˆ«è¶Šé«˜ã€‚</p><h3>æ ¼å¼å’Œå†™æ³•</h3><pre><code><span class="comment">/// é€šè¿‡#includeå¼•å…¥å…¶ä»– xcconfig æ–‡ä»¶</span>
#include <span class="string">"path/to/OtherFile.xcconfig"</span>

<span class="comment">/// xcconfig ä¸­é…ç½®çš„æ ¼å¼ key = value</span>
<span class="type">BUILD_SETTING_NAME</span> = value

<span class="comment">/// é€šè¿‡ä½¿ç”¨ $(inherited) æ¥ä¿ç•™åŸå…ˆçš„å€¼</span> 
<span class="type">BUILD_SETTING_NAME</span> = $(inherited) additional value

<span class="comment">/// å¼•ç”¨å…¶ä»–å·²å®šä¹‰çš„ Build Setting</span>
<span class="type">FRAMEWORK_SEARCH_PATHS</span> = $(inherited) $(<span class="type">PROJECT_DIR</span>)
</code></pre><h3>xcconfig åˆ†ç±»</h3><p>å¯ä»¥æŠŠ xcconfig æ–‡ä»¶åˆ†æˆä¸‰å¤§ç±»ï¼šSharedã€ Project å’Œ Targetsã€‚</p><ul><li>Sharedï¼š æ–‡ä»¶å¤¹ç”¨äºä¿å­˜åˆ†äº«åˆ°æ•´ä¸ª App çš„ Build Settingï¼Œä¾‹å¦‚ Swift çš„ç‰ˆæœ¬å·ã€App æ‰€æ”¯æŒçš„ iOS ç‰ˆæœ¬å·ç­‰å„ç§å…±äº«çš„åŸºç¡€ä¿¡æ¯ã€‚</li></ul><ul><li>Projectï¼š æ–‡ä»¶å¤¹ç”¨äºä¿å­˜ Xcode Project çº§åˆ«çš„ Build Settingï¼Œå…¶ä¸­ BaseProject.xcconfig ä¼šå¼•å…¥ Shared æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰çš„ xcconfig é…ç½®æ–‡ä»¶ã€‚</li></ul><ul><li>Targetsï¼š æ–‡ä»¶å¤¹ç”¨äºä¿å­˜ Xcode Target çº§åˆ«çš„ Build Settingï¼Œä¹Ÿæ˜¯ç”±ä¸€ä¸ª BaseTarget.xcconfig æ–‡ä»¶æ¥å…±äº«æ‰€æœ‰ Target éƒ½éœ€è¦ä½¿ç”¨çš„ä¿¡æ¯ã€‚å®ƒä»¬éƒ½éœ€è¦å¼•å…¥ CocoaPods æ‰€ç”Ÿæˆçš„ xcconfig å’Œå…±äº«çš„ BaseTarget.xcconfig æ–‡ä»¶ï¼Œç„¶åæ ¹æ®éœ€è¦æ”¹å†™ App çš„åå­—ã€‚</li></ul><h3>xcoconfig é…ç½®</h3><img src="https://cdn.jsdelivr.net/gh/linsyorozuya/Pics@master/uPic/%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_22f5f19a-696d-4c20-acb6-940cc10f73bf.png" alt="é…ç½®å›¾ä¾‹å­"/><p>å‚è€ƒï¼š <a href="https://kaiwu.lagou.com/course/courseInfo.htm?courseId=657&sid=20-h5Url-0&buyFrom=2&pageId=1pz4#/detail/pc?id=6656">é…ç½®å‡†å¤‡ï¼šå¦‚ä½•æ­å»ºå¤šç¯å¢ƒæ”¯æŒï¼Œä¸º App å¼€å‘ä½œå‡†å¤‡</a></p></div></article></div><div class="item-bottom-nav"><div><a href="/posts/æ­å¼€ SwiftUI ç¥ç§˜é¢çº±" class="item">ğŸ”™Â  æ­å¼€ SwiftUI ç¥ç§˜é¢çº±</a></div><div><a href="/posts/SwiftUI å¦‚ä½•ç›‘å¬ @State å˜æ›´" class="item">SwiftUI å¦‚ä½•ç›‘å¬ @State å˜æ›´Â  ğŸ”œ</a></div></div><footer><p>Copyright Â© 2021 ç°æ¡‘</p><p>Powered by <a href="https://github.com/johnsundell/publish">John Sundell's Publish</a></p><p><a href="/feed.rss">RSS feed</a></p></footer></body></html>